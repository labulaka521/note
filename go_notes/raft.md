## Raft一致性算法论文 笔记

特性
- 强领导者 
  和其他一致性算法相比，Raft使用一种更强的领导能力形式。
  日志条目只从领导者发送给其他的服务器
- 领导选举 
  Raft 算法使用一个随机计时器来选举领导者。
- 成员关系调整
  Raft使用一种共同一致的方法来处理集群成员变化问题
 

Raft将一致性算法分解成了几个关键模块
- 领导人选举
  一个新的领导人需要被选举出来，当现存的领导人宕机的时候
- 日志复制
  领导人必须从客户端接收日志然后复制到集群中的其他节点，并且强制要求其他节点的日志保持和自已相同
- 安全性
  在Raft中安全性的关键是状态机安全：如果有任何的服务器节点已经应用了一个确定的日志条目到他的状态机中，那么其他服务器节点不能在同一个日志索引位置应用一个不同的指令


### Raft 基础
每个服务器接单都处于这三个状态之一
- 领导人
- 跟随者
- 候选人

![](https://github.com/maemual/raft-zh_cn/raw/master/images/raft-%E5%9B%BE4.png)
>服务器状态。跟随者只响应来自其他服务器的请求。如果跟随者接收不到消息，那么他就会变成候选人并发起一次选举。获得集群中大多数选票的候选人将成为领导者。在一个人任期内，领导人一致都会是领导者直到自已宕机了。

![](https://github.com/maemual/raft-zh_cn/blob/master/images/raft-%E5%9B%BE5.png)
>时间会被划分为一个个的任期，每个任期开始都是一次选举开始，如果一个候选人赢得选举，然后他就在接下来的任期内党领导人得职责。有时候选举会失败，那么这个任期就会没有领导人而结束。  
Raft保证了在一个给定得任期内，最多只有一个领导者

###